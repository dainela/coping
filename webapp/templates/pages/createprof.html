{% extends 'pages/index.html' %}
{% load static %}
{% block content %}

<form class="availabilityprof2" method="POST" enctype="multipart/form-data">
    <h2>Sign up as Psychologist</h2><br />
    {% csrf_token %}

    <div class="firstname">
        <label for="username">First Name:</label>
        {{ form.first_name }}
    </div>

    <div class="lastname">
        <label for="username">Last Name:</label>
        {{ form.last_name }}
    </div>

    <div class="email">
        <label for="username">Email:</label>
        {{ form.email }}
    </div>

    <div class="username">
        <label for="id_username">Username:</label>
        {{ form.username }}
    </div>


    <div class="password1">
        <label for="username">Password:</label>
        {{ form.password1 }}
    </div>

    <div class="password2">
        <label for="username">Password Confirmation:</label>
        {{ form.password2 }}
    </div>

    <div class="form-group">
        <label for="username">License Number:</label>
        {{ form.license_number }}
    </div>

    <div class="form-group">
        <label for="username">Address:</label>
        {{ form.qualification }}
    </div>

    <div class="years">
        <label for="username">Years of Experience:</label>
        {{ form.years_of_experience }}
    </div>

    <div class="area">
        <label for="username">Area of Expertise:</label>
        {{ form.area_of_expertise }}
    </div>

    <div class="form-group">
        <label for="username">Contact Number:</label>
        {{ form.contact_number }}
    </div>

    <div class="form-group">
        <label for="username">Picture:</label>
        {{ form.image }}
        <br />
        <!-- Image preview -->
        <img id="imagePreview" src="#" alt="Image Preview" style="display: none; margin-top: 10px; max-width: 100%; border: 2px solid #38b993;" />
    </div>

    <div class="form-group">
        <label for="username">Bio:</label>
        {{ form.bio }}
    </div>

    <button class="signinbtn" type="submit">Save</button>
</form>

<script>
    // JavaScript to show the image preview
    document.querySelector('input[type="file"]').addEventListener('change', function (event) {
        const file = event.target.files[0];
        const preview = document.getElementById('imagePreview');
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = 'block'; // Show the preview
            };
            reader.readAsDataURL(file);
        } else {
            preview.src = '#';
            preview.style.display = 'none'; // Hide the preview
        }
    });

    function confirmSubmission() {
        return confirm("Are you sure you want to sign up with the provided information?");
    }
</script>

<style>
    .availabilityprof2 {
        margin: 200px 500px;
        text-align: left;
        width: 50%;
        font-size: 20px;
        box-shadow: 0px 5px 15px 0px rgb(37, 98, 79);
        margin-top: 50px;
        margin-left: 400px;
        border: 3px solid #38b993;
        background-color: #fff;
    }

    .availabilityprof2 h2 {
        color: #38b993;
    }

    .availabilityprof2 label {
        color: #38b993;
        
    }

    .availabilityprof2 input[type="text"], 
    .availabilityprof2 input[type="password"], 
    .availabilityprof2 input[type="email"], 
    .availabilityprof2 input[type="number"], 
    .availabilityprof2 input[type="file"],
    .availabilityprof2 textarea {
        border: 3px solid #38b993; 
        padding: 8px; 
        width: 100%; 
    }
    .form-group img {
        max-height: 200px;
        object-fit: contain;
        text-align: center;
       
    }
    .firstname {
        position: relative;
        margin-right: 380px;
    }

    .lastname {
        position: relative;
        margin-left: 380px;
        margin-top: -97px;
    }

    .password1 {
        position: relative;
        margin-right: 380px;
        margin-top: 10px;
    }

    .password2 {
        position: relative;
        margin-left: 380px;
        margin-top: -85px;
    }

    .years {
        position: relative;
        margin-right: 380px;
        margin-top: -10px;
    }

    .area {
        position: relative;
        margin-left: 380px;
        margin-top: -85px;
    }

    .email {
        position: relative;

    }
</style>

{% endblock %}
